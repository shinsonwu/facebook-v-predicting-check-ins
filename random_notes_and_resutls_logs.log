Facebook


setting up ipython notebook on cloud.. http://blog.impiyush.me/2015/02/running-ipython-notebook-server-on-aws.html

cat train.csv | cut -f 6 -d ,  | sort | uniq # get all the uniq values from 6th column of a comma separated file

sed '1d'  -i train.csv # remove the first line and 

$ sed -i '1s/^/<added text> /' file # adding a line


[2016-05-14 17:35] anil at pan in ~/Code/facebook
$ sed '1d' -i test.csv
[2016-05-14 17:35] anil at pan in ~/Code/facebook
$ cat train.csv | cut -f 6 -d , | sort | uniq > place_ids.txt
[2016-05-14 17:45] anil at pan in ~/Code/facebook
$ wc -l place_ids.txt
  108390 place_ids.txt
[2016-05-14 17:55] anil at pan in ~/Code/facebook
$ cat train.csv | cut -f 6 -d , | sort | uniq -c > place_ids_cardinality.txt
[2016-05-14 18:14] anil at pan in ~/Code/facebook
$ head place_ids_cardinality.txt
  78 1000015801
  95 1000017288
 563 1000025138
 961 1000052096
  60 1000063498
 177 1000213704
  85 1000383269
 132 1000392527
  82 1000472949
  77 1000474694
[2016-05-14 18:18] anil at pan in ~/Code/facebook
$ cat place_ids_cardinality.txt | sort -nr | head
1849 8772469670
1802 1623394281
1757 1308450003
1738 4823777529
1718 9586338177
1716 9129780742
1702 9544215131
1699 5351837004
1699 4638096372
1693 8610202964
[2016-05-14 18:18] anil at pan in ~/Code/facebook
$ l
total 5370624
-rw-r--r--  1 anil  staff         228 14 May 17:33 headers.csv
-rw-r--r--  1 anil  staff     1192290 14 May 17:45 place_ids.txt
-rw-r--r--  1 anil  staff     1734240 14 May 18:14 place_ids_cardinality.txt
-rw-r--r--@ 1 anil  staff   351785336  7 May 04:53 sample_submission.csv
-rw-r--r--@ 1 anil  staff   164594368 14 May 12:06 sample_submission.csv.zip
-rw-r--r--  1 anil  staff   273911508 14 May 17:35 test.csv
-rw-r--r--@ 1 anil  staff   116454883 14 May 12:02 test.csv.zip
-rw-r--r--  1 anil  staff  1268930406 14 May 17:34 train.csv
-rw-r--r--@ 1 anil  staff   571133917 14 May 12:44 train.csv.zip
[2016-05-15 17:43] anil at pan in ~/Code/facebook
$ l -h
total 5370624
-rw-r--r--  1 anil  staff   228B 14 May 17:33 headers.csv
-rw-r--r--  1 anil  staff   1.1M 14 May 17:45 place_ids.txt
-rw-r--r--  1 anil  staff   1.7M 14 May 18:14 place_ids_cardinality.txt
-rw-r--r--@ 1 anil  staff   335M  7 May 04:53 sample_submission.csv
-rw-r--r--@ 1 anil  staff   157M 14 May 12:06 sample_submission.csv.zip
-rw-r--r--  1 anil  staff   261M 14 May 17:35 test.csv
-rw-r--r--@ 1 anil  staff   111M 14 May 12:02 test.csv.zip
-rw-r--r--  1 anil  staff   1.2G 14 May 17:34 train.csv
-rw-r--r--@ 1 anil  staff   545M 14 May 12:44 train.csv.zip
[2016-05-15 17:43] anil at pan in ~/Code/facebook
$ head train.csv
0,0.7941,9.0809,54,470702,8523065625
1,5.9567,4.7968,13,186555,1757726713
2,8.3078,7.0407,74,322648,1137537235
3,7.3665,2.5165,65,704587,6567393236
4,4.0961,1.1307,31,472130,7440663949
5,3.8099,1.9586,75,178065,6289802927
6,6.3336,4.3720,13,666829,9931249544
7,5.7409,6.7697,85,369002,5662813655
8,4.3114,6.9410,3,166384,8471780938
9,6.3414,0.0758,65,400060,1253803156
[2016-05-15 17:49] anil at pan in ~/Code/facebook
$ head headers.csv
training_headers:
row_id,x,y,accuracy,time,place_id
0,0.7941,9.0809,54,470702,8523065625

test_headers:
row_id,x,y,accuracy,time
0,0.1675,1.3608,107,930883

submission_headers:
row_id,place_id
[2016-05-15 17:49] anil at pan in ~/Code/facebook
$ head test.csv
0,0.1675,1.3608,107,930883
1,7.3909,2.5301,35,893017
2,8.0978,2.3473,62,976933
3,0.999,1.0591,62,907285
4,0.667,9.7254,40,914399
5,0.1771,0.0022,161,814077
6,5.5299,4.6581,2,930759
7,8.6021,3.1744,4,862115
8,4.225,6.3435,162,787391
9,0.6489,6.2611,39,793166
[2016-05-15 17:49] anil at pan in ~/Code/facebook
$ cut -f 5 -d , train.csv | sort | head
1
1
1
10
10
10
10
10
10
10
[2016-05-15 17:59] anil at pan in ~/Code/facebook
$ l
total 5370632
-rw-r--r--  1 anil  staff          72 15 May 18:29 Facebook.ipynb
-rw-r--r--  1 anil  staff         228 14 May 17:33 headers.csv
-rw-r--r--  1 anil  staff     1192290 14 May 17:45 place_ids.txt
-rw-r--r--  1 anil  staff     1734240 14 May 18:14 place_ids_cardinality.txt
-rw-r--r--@ 1 anil  staff   351785336  7 May 04:53 sample_submission.csv
-rw-r--r--@ 1 anil  staff   164594368 14 May 12:06 sample_submission.csv.zip
-rw-r--r--  1 anil  staff   273911508 14 May 17:35 test.csv
-rw-r--r--@ 1 anil  staff   116454883 14 May 12:02 test.csv.zip
-rw-r--r--  1 anil  staff  1268930406 14 May 17:34 train.csv
-rw-r--r--@ 1 anil  staff   571133917 14 May 12:44 train.csv.zip
[2016-05-15 18:29] anil at pan in ~/Code/facebook
$ wc -l place_ids.txt
  108390 place_ids.txt
[2016-05-15 18:48] anil at pan in ~/Code/facebook
$ head test.csv
0,0.1675,1.3608,107,930883
1,7.3909,2.5301,35,893017
2,8.0978,2.3473,62,976933
3,0.999,1.0591,62,907285
4,0.667,9.7254,40,914399
5,0.1771,0.0022,161,814077
6,5.5299,4.6581,2,930759
7,8.6021,3.1744,4,862115
8,4.225,6.3435,162,787391
9,0.6489,6.2611,39,793166
[2016-05-15 18:49] anil at pan in ~/Code/facebook
$ head test.csv | cut -f 5 -d ,
930883
893017
976933
907285
914399
814077
930759
862115
787391
793166
[2016-05-15 18:50] anil at pan in ~/Code/facebook
$ head train.csv | cut -f 5 -d ,
470702
186555
322648
704587
472130
178065
666829
369002
166384
400060
[2016-05-15 18:50] anil at pan in ~/Code/facebook
$ cat test.csv | cut -f 5 -d , | sort | head
1000000
1000000
1000000
1000000
1000000
1000000
1000000
1000000
1000000
1000000
[2016-05-15 18:52] anil at pan in ~/Code/facebook
$ cat test.csv | cut -f 5 -d , | sort | tail
^C
[2016-05-15 18:53] anil at pan in ~/Code/facebook
$ cat test.csv | cut -f 5 -d , | sort -n > test_sorted_time.txt
[2016-05-15 18:54] anil at pan in ~/Code/facebook
$ head test_sorted_time.txt
786242
786242
786242
786243
786243
786243
786244
786244
786244
786245
[2016-05-15 18:56] anil at pan in ~/Code/facebook
$ tail test_sorted_time.txt
1006586
1006586
1006586
1006586
1006586
1006587
1006587
1006587
1006587
1006589
[2016-05-15 18:56] anil at pan in ~/Code/facebook
$ l -h
total 5879800
-rw-r--r--  1 anil  staff   514B 15 May 18:31 Facebook.ipynb
-rw-r--r--  1 anil  staff   228B 14 May 17:33 headers.csv
-rw-r--r--  1 anil  staff   1.1M 14 May 17:45 place_ids.txt
-rw-r--r--  1 anil  staff   1.7M 14 May 18:14 place_ids_cardinality.txt
-rw-r--r--@ 1 anil  staff   335M  7 May 04:53 sample_submission.csv
-rw-r--r--@ 1 anil  staff   157M 14 May 12:06 sample_submission.csv.zip
-rw-r--r--  1 anil  staff   261M 14 May 17:35 test.csv
-rw-r--r--@ 1 anil  staff   111M 14 May 12:02 test.csv.zip
-rw-r--r--  1 anil  staff    58M 15 May 18:54 test_sorted_time.txt
-rw-r--r--  1 anil  staff   1.2G 14 May 17:34 train.csv
-rw-r--r--@ 1 anil  staff   545M 14 May 12:44 train.csv.zip
-rw-r--r--  1 anil  staff   191M 15 May 18:56 train_sorted_time.txt
[2016-05-15 19:02] anil at pan in ~/Code/facebook
$ head train.csv
0,0.7941,9.0809,54,470702,8523065625
1,5.9567,4.7968,13,186555,1757726713
2,8.3078,7.0407,74,322648,1137537235
3,7.3665,2.5165,65,704587,6567393236
4,4.0961,1.1307,31,472130,7440663949
5,3.8099,1.9586,75,178065,6289802927
6,6.3336,4.3720,13,666829,9931249544
7,5.7409,6.7697,85,369002,5662813655
8,4.3114,6.9410,3,166384,8471780938
9,6.3414,0.0758,65,400060,1253803156
[2016-05-15 19:08] anil at pan in ~/Code/facebook
$ head headers.csv
training_headers:
row_id,x,y,accuracy,time,place_id
0,0.7941,9.0809,54,470702,8523065625

test_headers:
row_id,x,y,accuracy,time
0,0.1675,1.3608,107,930883

submission_headers:
row_id,place_id
[2016-05-15 19:11] anil at pan in ~/Code/facebook
$ head test.csv
0,0.1675,1.3608,107,930883
1,7.3909,2.5301,35,893017
2,8.0978,2.3473,62,976933
3,0.999,1.0591,62,907285
4,0.667,9.7254,40,914399
5,0.1771,0.0022,161,814077
6,5.5299,4.6581,2,930759
7,8.6021,3.1744,4,862115
8,4.225,6.3435,162,787391
9,0.6489,6.2611,39,793166
[2016-05-15 19:11] anil at pan in ~/Code/facebook
$ head sample_submission.csv
row_id,place_id
0,3073560757 9004412889 5652080691
1,1652178628 4379515211 6612350960
2,4894407065 3920195083 7608574746
3,7272466660 2004687925 1455486822
4,4720452725 4967325204 4782917866
5,1283939222 8208358948 2070306016
6,6021764482 7803008413 1644190109
7,7202788043 1649564607 2246348076
8,8296155994 3181135659 6931700594
[2016-05-15 19:13] anil at pan in ~/Code/facebook
$ r
-bash: r: command not found
[2016-05-15 20:01] anil at pan in ~/Code/facebook
$ rstudio
-bash: rstudio: command not found
[2016-05-15 20:01] anil at pan in ~/Code/facebook
$





processing column 70 of row 3
processing column 80 of row 1
processing column 80 of row 2
processing column 60 of row 7
processing column 60 of row 6
processing column 70 of row 4
processing column 60 of row 8
processing column 90 of row 1
processing column 70 of row 5
processing column 60 of row 9
processing column 20 of row 10
processing column 80 of row 3
processing column 90 of row 2
processing column 70 of row 7
processing column 70 of row 6
processing column 80 of row 4
processing column 70 of row 8
processing column 100 of row 1
time taken for row 1 is 2098.038661
processing column 70 of row 9
processing row 11
processing column 0 of row 11
processing column 90 of row 3
processing column 80 of row 5
processing column 30 of row 10
processing column 100 of row 2
time taken for row 2 is 2138.69893813
processing row 12
processing column 0 of row 12
processing column 80 of row 7
processing column 80 of row 8
processing column 90 of row 4
processing column 80 of row 6
processing column 10 of row 11
processing column 100 of row 3
time taken for row 3 is 2324.86312795
processing column 80 of row 9
processing column 90 of row 5
processing row 13
processing column 0 of row 13
processing column 40 of row 10
processing column 10 of row 12
processing column 90 of row 7
processing column 90 of row 8
processing column 100 of row 4
time taken for row 4 is 2504.95240402
processing column 90 of row 6
processing column 20 of row 11
processing row 14
processing column 0 of row 14
processing column 90 of row 9
processing column 10 of row 13
processing column 100 of row 5
time taken for row 5 is 2548.20454597
processing column 50 of row 10
processing row 15
processing column 0 of row 15
processing column 20 of row 12
processing column 100 of row 8
time taken for row 8 is 2573.134166
processing column 100 of row 7
time taken for row 7 is 2642.40088701
processing row 16
processing column 0 of row 16
processing column 10 of row 14
processing column 30 of row 11
processing column 100 of row 6
time taken for row 6 is 2712.36506414
processing column 100 of row 9
time taken for row 9 is 2575.20782304
processing row 17
processing column 0 of row 17
processing column 60 of row 10
processing column 10 of row 15
processing row 18
processing column 0 of row 18
processing column 20 of row 13
processing column 30 of row 12
processing row 19
processing column 0 of row 19
processing column 20 of row 14
processing column 10 of row 16
processing column 40 of row 11
processing column 10 of row 17
processing column 70 of row 10
processing column 20 of row 15
processing column 30 of row 13
processing column 10 of row 18
processing column 40 of row 12
processing column 10 of row 19
processing column 30 of row 14
processing column 50 of row 11
processing column 20 of row 16
processing column 80 of row 10
processing column 20 of row 17
processing column 30 of row 15
processing column 20 of row 18
processing column 40 of row 13
processing column 20 of row 19
processing column 50 of row 12
processing column 40 of row 14
processing column 60 of row 11
processing column 30 of row 16
processing column 40 of row 15
processing column 90 of row 10
processing column 30 of row 17
processing column 30 of row 18
processing column 50 of row 13
processing column 60 of row 12
processing column 30 of row 19
processing column 50 of row 14
processing column 40 of row 16
processing column 70 of row 11
processing column 100 of row 10
time taken for row 10 is 2590.03032303
processing row 20
processing column 0 of row 20
processing column 50 of row 15
processing column 40 of row 17
processing column 40 of row 18
processing column 70 of row 12
processing column 40 of row 19
processing column 60 of row 13
processing column 60 of row 14
processing column 80 of row 11
processing column 50 of row 16
processing column 10 of row 20
processing column 60 of row 15
processing column 50 of row 17
processing column 50 of row 18
processing column 70 of row 13
processing column 60 of row 16
processing column 80 of row 12
processing column 50 of row 19
processing column 70 of row 14
processing column 90 of row 11
processing column 20 of row 20
processing column 70 of row 15
processing column 60 of row 17
processing column 60 of row 18
processing column 80 of row 13
processing column 70 of row 16
processing column 90 of row 12
processing column 60 of row 19
processing column 80 of row 14
processing column 30 of row 20
processing column 100 of row 11
time taken for row 11 is 2612.35235095
processing column 100 of row 12
time taken for row 12 is 2746.79557395
processing row 22
processing column 0 of row 22
processing column 70 of row 19
processing column 90 of row 14
processing column 10 of row 21
processing column 90 of row 15
processing column 80 of row 17
processing column 100 of row 13
time taken for row 13 is 2741.40022898
processing column 50 of row 20
processing row 23
processing column 0 of row 23
processing column 80 of row 18
processing column 100 of row 14
time taken for row 14 is 2566.7714088
processing column 10 of row 22
processing column 90 of row 16
processing row 24
processing column 0 of row 24
processing column 20 of row 21
processing column 80 of row 19
processing column 100 of row 15
time taken for row 15 is 2666.72556305
processing column 10 of row 24
processing column 60 of row 20
processing row 25
processing column 0 of row 25
processing column 10 of row 25
processing column 20 of row 25
processing column 30 of row 25
processing column 40 of row 25
processing column 50 of row 25
processing column 60 of row 25
processing column 70 of row 25
processing column 80 of row 25
processing column 90 of row 25
processing column 100 of row 25
/usr/local/lib/python2.7/dist-packages/numpy/lib/npyio.py:893: UserWarning: loadtxt: Empty input file: "../grid1_400_100_50_10/grid_data_25_100.csv"
  warnings.warn('loadtxt: Empty input file: "%s"' % fname)
time taken for row 25 is 0.0607991218567
processing column 10 of row 23
processing column 90 of row 17
processing column 100 of row 16
time taken for row 16 is 2565.44655108
processing column 90 of row 18
processing column 20 of row 22
processing column 30 of row 21
processing column 90 of row 19
processing column 20 of row 24
processing column 20 of row 23
processing column 100 of row 17
time taken for row 17 is 2695.80081892
processing column 40 of row 21
processing column 70 of row 20
processing column 30 of row 24
processing column 100 of row 18
time taken for row 18 is 2663.70843983
processing column 30 of row 22
processing column 100 of row 19
time taken for row 19 is 2618.47459698
processing column 40 of row 24
processing column 30 of row 23
processing column 40 of row 22
processing column 50 of row 21
processing column 80 of row 20
processing column 50 of row 24
processing column 40 of row 23
processing column 90 of row 20
processing column 60 of row 21
processing column 60 of row 24
processing column 50 of row 22
processing column 50 of row 23
processing column 70 of row 24
processing column 100 of row 20
time taken for row 20 is 2091.59971309
processing column 60 of row 22
processing column 70 of row 21
processing column 60 of row 23
processing column 80 of row 24
processing column 70 of row 22
processing column 90 of row 24
processing column 80 of row 21
processing column 70 of row 23
processing column 100 of row 24
time taken for row 24 is 1057.81182289
processing column 80 of row 22
processing column 80 of row 23
processing column 90 of row 21
processing column 90 of row 23
processing column 90 of row 22
processing column 100 of row 21
time taken for row 21 is 1723.74352717
processing column 100 of row 23
time taken for row 23 is 1387.00274611
processing column 100 of row 22
time taken for row 22 is 1638.102844
Training time of parallel processing 6757.28653598
/home/ubuntu/facebook/scripts/xgboost_model.py:341: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.
  test_rows = filter(lambda x: x != None, test_rows)
/home/ubuntu/facebook/scripts/xgboost_model.py:342: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.
  cv_rows = filter(lambda x: x != None, cv_rows)
mean precision of cross validation set 0.64857875366
generating 0 row of test data
generating 1000000 row of test data
generating 2000000 row of test data
generating 3000000 row of test data
generating 4000000 row of test data
generating 5000000 row of test data
generating 6000000 row of test data
generating 7000000 row of test data
generating 8000000 row of test data


mean precision of cross validation set 0.608940649358 for n = 3



In [83]: #prices = conn.get_spot_price_history(start_time=s.isoformat(), end_time=datetime.datetime.now().isoformat(), instance_type='m4.large', product_description = 'Linux/UNIX (Amazon VPC)')

In [84]: # conn = ec2.connect_to_region('us-east-1', aws_access_key_id=AWS_ACCESS_KEY, aws_secret_access_key=AWS_SECRET_ACCESS_KEY)

In [85]: #conn.get_all_spot_instance_requests(spot_ins.id)

In [86]: #req = conn.request_spot_instances(price = '0.1', image_id = ami, count = 1, key_name=key_pair, security_group_ids=[sg], instance_type='m4.large', subnet_id=subnet)




Training time of parallel processing 34178.6928279
mean precision of cross validation set 0.396100441575
uploading file to s3 ../ec2_xgb_800_400_200_100_n3_th20_parallel_submission.csv.zip


Training time of parallel processing 6910.27707791
mean precision of cross validation set 0.664675255362
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_10_min_child_wt6_gamma0_subsample0_8_colsample_bytree0_8_scale_pos_wt1_th7.csv.zip



Training time of parallel processing 23108.2809758
mean precision of cross validation set 0.679744125838
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_13_min_child_wt5_gamma0.3_subsample0_9_colsample_bytree0_7_scale_pos_wt1_th7.csv.zip



Training time of parallel processing 2672.22932005
mean precision of cross validation set 0.7835(cv on code train not cv)
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_8_min_child_wt5_gamma0.3_subsample0_9_colsample_bytree0_7_scale_pos_wt1_th3_100_50_20_5.csv.zip




Training time of parallel processing 3479.05396986
mean precision of cross validation set 0.668102887962
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_8_min_child_wt5_gamma0.3_subsample0_9_colsample_bytree0_7_scale_pos_wt1_th3_100_50_20_5_edges_top3.csv.zip


Training time of parallel processing 4332.79065585
mean precision of cross validation set 0.671091293395
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_8_min_child_wt5_gamma0.3_subsample0_9_colsample_bytree0_7_scale_pos_wt1_th3_200_50_20_5_edges_top_3.csv.zip


Training time of parallel processing 5142.66192794
mean precision of cross validation set 0.663428583209
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_5_min_child_wt5_gamma0.3_subsample0_9_colsample_bytree0_7_scale_pos_wt1_th3_n100_100_20_20_5_edges_top_3.csv.zip



Training time of parallel processing 3942.04482603
mean precision of cross validation set 0.660508323842
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_5_min_child_wt5_gamma0.3_subsample0_9_colsample_bytree0_7_scale_pos_wt1_th3_n100_100_20_10_5_edges_top_3.csv.zip
uploading to s3 done

grid 100 20 10 5 ~ 0.6601 like above n = 100

n == 2 and settings from below
Training time of parallel processing 635.3425529
mean precision of cross validation set 0.527953058241

Training time of parallel processing 12542.9536991
mean precision of cross validation set 0.671461801839
uploading file to s3 ../ec2_xgb_eta0_1_max_depth_3_min_child_wt6_gamma0_1_subsample0_9_colsample_bytree0_6_scale_pos_wt1_th3_n100.csv.zip

Training time of parallel processing 28653.8643701
mean precision of cross validation set 0.672788359507
uploading file to s3 ../ec2_colsample_bytree0_6_scale_pos_weight1_min_child_weight6_subsample0_9_eta0_1_max_depth3_gamma0_1_th3_n200.csv.zip

Training time of parallel processing 8756.12335706
/mean precision of cross validation set 0.671436604974
uploading file to s3 ../default_params_with_n100.csv.zip

Training time of parallel processing 49499.744441
mean precision of cross validation set 0.672366884677
uploading file to s3 ../ec2_xgb_eta0_1_th3_n100_params_from_pickle.csv.zip

Training time of parallel processing 25109.6152918
mean precision of cross validation set 0.65359149812
uploading file to s3 ../first_run_on_extra_features_n100.csv.zip

Training time of parallel processing 8596.11937213
/mean precision of cross validation set 0.626923479985
uploading file to s3 ../grid_200_50_20_5_def_params_eta0_01_n100.csv.zip

Training time of parallel processing 3916.69344401
mean precision of cross validation set 0.658154421277
uploading file to s3 ../grid_200_50_20_5_def_params_n45.csv.zip

Training time of parallel processing 6023.36968088
mean precision of cross validation set 0.674278696795
uploading file to s3 ../grid_200_50_20_5_def_params_max_depth6_th10_n100.csv.zip

Training time of parallel processing 5704.23221278
mean precision of cross validation set 0.671601816236
uploading file to s3 ../grid_200_50_20_5_def_params_th7_n100.csv.zip

Training time of parallel processing 25179.1459649
mean precision of cross validation set 0.651697724666
uploading file to s3 ../grid_200_50_20_5_def_params_eta0_01_n300.csv.zip

Training time of parallel processing 953.415666103
mean precision of cross validation set 0.331402623566
uploading file to s3 ../gnb_model_run.csv.zip


Training time of parallel processing 1231.01017714
mean precision of cross validation set 0.549290507826
uploading file to s3 ../feature_run_th7_n100.csv.zip


Training time of parallel processing 5910.70749712
mean precision of cross validation set 0.671794801314
uploading file to s3 ../grid_200_50_20_5_def_params_max_delta_step8_th7_n100.csv.zip

Training time of parallel processing 37582.5414441
mean precision of cross validation set 0.673749562634
uploading file to s3 ../from_pickle_rx5_ry10_max_delta_step7_n100.csv.zip

Training time of parallel processing 6316.01984882
mean precision of cross validation set 0.677831168407
uploading file to s3 ../time_features_th7_n100_def_params.csv.zip


Training time of parallel processing 8762.90725112
mean precision of cross validation set 0.680832458601
uploading file to s3 ../time_features_row_wise_params_th7.csv.zip

Training time of parallel processing 5608.19364214
mean precision of cross validation set 0.679513918118
uploading file to s3 ../even_more_time_features_th_7_def_grid.csv.zip

Training time of parallel processing 7985.74901819
mean precision of cross validation set 0.679414562299
uploading file to s3 ../time_features_th7_grid_250_20_30_10.csv.zip


Training time of parallel processing 8539.43748283
mean precision of cross validation set 0.681117641299
uploading file to s3 ../grid_250_50_30_10_time_feat_th7_100n.csv.zip

Training time of parallel processing 7355.43427014
mean precision of cross validation set 0.67864920753
uploading file to s3 ../time_features_th7_grid_200_20_30_10.csv.zip

time taken for row 33 is 181.208213806
Training time of parallel processing 8128.91019893
mean precision of cross validation set 0.680851928906
uploading file to s3 ../grid_300_50_30_10_time_feat_th10_100n.csv.zip

Training time of parallel processing 5656.16405487
mean precision of cross validation set 0.67756173375
uploading file to s3 ../xypoly_and_removed_hv2368w_th7_def_grid.csv.zip


Training time of parallel processing 8692.58191895
mean precision of cross validation set 0.682046203033
uploading file to s3 grid_250_20_30_10_params_01_7_4_03_09_06_07_8_th7.csv.zip

DEBUG:root:Training time of parallel processing 7628.39264488
DEBUG:root:mean precision of cross validation set: 0.681770182832
DEBUG:root:grid_250_20_30_10_params_01_7_4_03_09_06_07_8_th10.csv

Training time of parallel processing 7114.45242095
mean precision of cross validation set 0.68068156374
uploading file to s3 grid_200_20_30_10_params_01_7_4_01_085_065_06_6_th10.csv.zip

DEBUG:root:Training time of parallel processing 8427.84564304
DEBUG:root:mean precision of cross validation set: 0.681307190441
DEBUG:root:grid_200_20_30_10_params_01_7_4_01_085_065_06_6_th7.csv







Training time of parallel processing 9892.25764799
mean precision of cross validation set 0.686296169676
uploading file to s3 grid_300_50_30_10_params_01_8_5_02_09_065_06_8_th7.csv.zip


DEBUG:root:Training time of parallel processing 8984.75000405
DEBUG:root:mean precision of cross validation set: 0.685937114352
DEBUG:root:grid_300_50_30_10_params_01_8_5_02_09_065_06_8_th10.csv

DEBUG:root:Training time of parallel processing 9542.17648411
DEBUG:root:mean precision of cross validation set: 0.685979204569
DEBUG:root:grid_250_50_30_10_params_01_7_4_02_09_065_06_6_th7.csv

DEBUG:root:Training time of parallel processing 8345.94478416
DEBUG:root:mean precision of cross validation set: 0.685361595053
DEBUG:root:grid_250_50_30_10_params_01_7_4_02_09_065_06_6_th10.csv




##########################################################################
DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 9892.25770187
DEBUG:root:mean precision of cross validation set: 0.686296169676
DEBUG:root:grid_300_50_30_10_params_01_8_5_02_09_065_06_8_th7.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 8984.75000405
DEBUG:root:mean precision of cross validation set: 0.685937114352
DEBUG:root:grid_300_50_30_10_params_01_8_5_02_09_065_06_8_th10.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 9542.17648411
DEBUG:root:mean precision of cross validation set: 0.685979204569
DEBUG:root:grid_250_50_30_10_params_01_7_4_02_09_065_06_6_th7.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 8345.94478416
DEBUG:root:mean precision of cross validation set: 0.685361595053
DEBUG:root:grid_250_50_30_10_params_01_7_4_02_09_065_06_6_th10.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

################################################################################
DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 8692.58197784
DEBUG:root:mean precision of cross validation set: 0.682046203033
DEBUG:root:grid_250_20_30_10_params_01_7_4_03_09_06_07_8_th7.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 7628.39264488
DEBUG:root:mean precision of cross validation set: 0.681770182832
DEBUG:root:grid_250_20_30_10_params_01_7_4_03_09_06_07_8_th10.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 8427.84564304
DEBUG:root:mean precision of cross validation set: 0.681307190441
DEBUG:root:grid_200_20_30_10_params_01_7_4_01_085_065_06_6_th7.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 7114.45248294
DEBUG:root:mean precision of cross validation set: 0.68068156374
DEBUG:root:grid_200_20_30_10_params_01_7_4_01_085_065_06_6_th10.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

DEBUG:root:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DEBUG:root:Training time of parallel processing 5302.11213303
DEBUG:root:mean precision of cross validation set: 0.680660948124
DEBUG:root:grid_200_50_20_5_params_01_5_4_01_085_065_08_6_th8.csv
DEBUG:root:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


Training time of parallel processing 3961.00493217
/home/ubuntu/facebook/scripts/xgboost_time_features.py:474: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.
  test_rows = filter(lambda x: x != None, test_rows)
/home/ubuntu/facebook/scripts/xgboost_time_features.py:475: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.
  cv_rows = filter(lambda x: x != None, cv_rows)
mean precision of cross validation set 0.670057076625
generating 0 row of test data
Compressing file
Compression done
uploading file to s3 grid_150_40_20_5_defparams_th7.csv.zip


Training time of parallel processing 8820.33983684
/home/ubuntu/mount_point/facebook/scripts/xgboost_time_features.py:474: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.
  test_rows = filter(lambda x: x != None, test_rows)
/home/ubuntu/mount_point/facebook/scripts/xgboost_time_features.py:475: FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.
  cv_rows = filter(lambda x: x != None, cv_rows)
mean precision of cross validation set 0.675056363669
generating 0 row of test data
Compressing file
Compression done
uploading file to s3 grid_200_20_30_10_params_01_5_4_03_09_07_09_6_th7.csv.zip




grid search results


ubuntu@ip-172-30-2-164:~/facebook/scripts$ python grid_search_for_all_grids.py
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
0 Nt
0.001 0.001
0 mt
0 nt
(2756, 6) data_shape
(2645, 12) X shape
(2645, 1) y shape
43 no of classes
top map results [{'map': 0.7616343333333333, 'max_depth': 5, 'min_child_weight': 3}, {'map': 0.76125600000000004, 'max_depth': 4, 'min_child_weight': 3}, {'map': 0.76125600000000004, 'max_depth': 6, 'min_child_weight': 3}]
top map results [{'map': 0.76390466666666657, 'gamma': 0.4}, {'map': 0.76314766666666667, 'gamma': 0.2}, {'map': 0.76276966666666668, 'gamma': 0.5}]
top map results [{'subsample': 0.8, 'colsample_bytree': 0.75, 'map': 0.76503999999999994}, {'subsample': 0.8, 'colsample_bytree': 0.8, 'map': 0.76503999999999994}, {'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.76390466666666657}]
top map results [{'alpha': 0, 'map': 0.76503999999999994}, {'alpha': 1e-05, 'map': 0.76503999999999994}, {'alpha': 0.001, 'map': 0.76352666666666658}]
computed params for big grid 0, 0
{'colsample_bytree': 0.75, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 3, 'subsample': 0.8, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 5, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
1 Nt
0.001 0.501
0 mt
10 nt
(2374, 6) data_shape
(2218, 12) X shape
(2218, 1) y shape
48 no of classes
top map results [{'map': 0.74650433333333333, 'max_depth': 7, 'min_child_weight': 5}, {'map': 0.74650433333333333, 'max_depth': 8, 'min_child_weight': 3}, {'map': 0.74605333333333324, 'max_depth': 5, 'min_child_weight': 2}]
top map results [{'map': 0.74740633333333328, 'gamma': 0.2}, {'map': 0.74695566666666668, 'gamma': 0.0}, {'map': 0.74605333333333335, 'gamma': 0.3}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.74740633333333328}, {'subsample': 0.85, 'colsample_bytree': 0.55, 'map': 0.74650466666666659}, {'subsample': 0.95, 'colsample_bytree': 0.6, 'map': 0.74605333333333324}]
top map results [{'alpha': 0, 'map': 0.74740633333333328}, {'alpha': 1e-05, 'map': 0.74740633333333328}, {'alpha': 0.05, 'map': 0.7447003333333333}]
computed params for big grid 0, 1
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 5, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 7, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
2 Nt
0.001 1.001
0 mt
20 nt
(5806, 6) data_shape
(5606, 12) X shape
(5606, 1) y shape
60 no of classes
top map results [{'map': 0.76641700000000001, 'max_depth': 7, 'min_child_weight': 6}, {'map': 0.76570299999999991, 'max_depth': 8, 'min_child_weight': 6}, {'map': 0.76552466666666652, 'max_depth': 6, 'min_child_weight': 4}]
top map results [{'map': 0.76570333333333329, 'gamma': 0.0}, {'map': 0.76534600000000008, 'gamma': 0.4}, {'map': 0.76409700000000003, 'gamma': 0.5}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.76570333333333329}, {'subsample': 0.9, 'colsample_bytree': 0.6, 'map': 0.7649893333333333}, {'subsample': 0.9, 'colsample_bytree': 0.65, 'map': 0.7649893333333333}]
top map results [{'alpha': 0, 'map': 0.76570333333333329}, {'alpha': 1e-05, 'map': 0.76570333333333329}, {'alpha': 0.1, 'map': 0.76516766666666669}]
computed params for big grid 0, 2
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 6, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 7, 'gamma': 0.0}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
3 Nt
0.001 1.501
0 mt
30 nt
(4537, 6) data_shape
(4328, 12) X shape
(4328, 1) y shape
57 no of classes
top map results [{'map': 0.70480799999999999, 'max_depth': 3, 'min_child_weight': 6}, {'map': 0.70457700000000001, 'max_depth': 4, 'min_child_weight': 3}, {'map': 0.7041143333333334, 'max_depth': 4, 'min_child_weight': 4}]
top map results [{'map': 0.7041143333333334, 'gamma': 0.1}, {'map': 0.70388333333333331, 'gamma': 0.0}, {'map': 0.70365199999999994, 'gamma': 0.2}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.6, 'map': 0.70434566666666665}, {'subsample': 0.9, 'colsample_bytree': 0.65, 'map': 0.70434566666666665}, {'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.7041143333333334}]
top map results [{'alpha': 0.005, 'map': 0.70480799999999999}, {'alpha': 1e-05, 'map': 0.70457666666666663}, {'alpha': 0.001, 'map': 0.70457666666666663}]
computed params for big grid 0, 3
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 6, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.005, 'max_depth': 3, 'gamma': 0.1}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
4 Nt
0.001 2.001
0 mt
40 nt
(4293, 6) data_shape
(4099, 12) X shape
(4099, 1) y shape
56 no of classes
top map results [{'map': 0.76061500000000004, 'max_depth': 6, 'min_child_weight': 4}, {'map': 0.75963899999999995, 'max_depth': 8, 'min_child_weight': 3}, {'map': 0.75939499999999993, 'max_depth': 3, 'min_child_weight': 2}]
top map results [{'map': 0.76110333333333335, 'gamma': 0.5}, {'map': 0.76012699999999989, 'gamma': 0.2}, {'map': 0.75890700000000011, 'gamma': 0.3}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.76110333333333335}, {'subsample': 0.8, 'colsample_bytree': 0.55, 'map': 0.76085899999999995}, {'subsample': 0.85, 'colsample_bytree': 0.55, 'map': 0.76085899999999995}]
top map results [{'alpha': 0, 'map': 0.76110333333333335}, {'alpha': 1e-05, 'map': 0.76110333333333335}, {'alpha': 0.01, 'map': 0.76061533333333331}]
computed params for big grid 0, 4
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 4, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 6, 'gamma': 0.5}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
5 Nt
0.001 2.501
0 mt
50 nt
(2986, 6) data_shape
(2831, 12) X shape
(2831, 1) y shape
61 no of classes
top map results [{'map': 0.68151300000000015, 'max_depth': 7, 'min_child_weight': 1}, {'map': 0.68151266666666654, 'max_depth': 6, 'min_child_weight': 1}, {'map': 0.68080600000000002, 'max_depth': 7, 'min_child_weight': 4}]
top map results [{'map': 0.68186633333333335, 'gamma': 0.0}, {'map': 0.68186633333333335, 'gamma': 0.1}, {'map': 0.68186633333333335, 'gamma': 0.5}]
top map results [{'subsample': 0.7, 'colsample_bytree': 0.6, 'map': 0.68716866666666665}, {'subsample': 0.7, 'colsample_bytree': 0.65, 'map': 0.68716866666666665}, {'subsample': 0.85, 'colsample_bytree': 0.6, 'map': 0.68716866666666665}]
top map results [{'alpha': 0, 'map': 0.68716866666666665}, {'alpha': 0.001, 'map': 0.68716866666666665}, {'alpha': 0.1, 'map': 0.68646166666666664}]
computed params for big grid 0, 5
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 1, 'subsample': 0.7, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 7, 'gamma': 0.0}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
6 Nt
0.001 3.001
0 mt
60 nt
(2921, 6) data_shape
(2770, 12) X shape
(2770, 1) y shape
54 no of classes
top map results [{'map': 0.70025300000000001, 'max_depth': 3, 'min_child_weight': 1}, {'map': 0.70025300000000001, 'max_depth': 8, 'min_child_weight': 1}, {'map': 0.69989199999999985, 'max_depth': 5, 'min_child_weight': 4}]
top map results [{'map': 0.70133599999999996, 'gamma': 0.3}, {'map': 0.70061399999999985, 'gamma': 0.4}, {'map': 0.70025300000000001, 'gamma': 0.5}]
top map results [{'subsample': 0.65, 'colsample_bytree': 0.95, 'map': 0.70314233333333342}, {'subsample': 0.65, 'colsample_bytree': 0.85, 'map': 0.70242000000000004}, {'subsample': 0.65, 'colsample_bytree': 0.9, 'map': 0.70242000000000004}]
top map results [{'alpha': 0.01, 'map': 0.70458633333333331}, {'alpha': 0, 'map': 0.70314233333333342}, {'alpha': 1e-05, 'map': 0.70314233333333342}]
computed params for big grid 0, 6
{'colsample_bytree': 0.95, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 1, 'subsample': 0.65, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.01, 'max_depth': 3, 'gamma': 0.3}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
7 Nt
0.001 3.501
0 mt
70 nt
(4409, 6) data_shape
(4211, 12) X shape
(4211, 1) y shape
51 no of classes
top map results [{'map': 0.75718700000000005, 'max_depth': 7, 'min_child_weight': 3}, {'map': 0.75718700000000005, 'max_depth': 8, 'min_child_weight': 3}, {'map': 0.75647433333333325, 'max_depth': 6, 'min_child_weight': 4}]
top map results [{'map': 0.75694933333333336, 'gamma': 0.3}, {'map': 0.75647433333333325, 'gamma': 0.0}, {'map': 0.75647399999999987, 'gamma': 0.4}]
top map results [{'subsample': 0.65, 'colsample_bytree': 0.6, 'map': 0.75766233333333333}, {'subsample': 0.65, 'colsample_bytree': 0.65, 'map': 0.75766233333333333}, {'subsample': 0.75, 'colsample_bytree': 0.6, 'map': 0.75766199999999995}]
top map results [{'alpha': 0, 'map': 0.75766233333333333}, {'alpha': 1e-05, 'map': 0.75766233333333333}, {'alpha': 0.001, 'map': 0.75766233333333333}]
computed params for big grid 0, 7
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 3, 'subsample': 0.65, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 7, 'gamma': 0.3}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
8 Nt
0.001 4.001
0 mt
80 nt
(4054, 6) data_shape
(3892, 12) X shape
(3892, 1) y shape
66 no of classes
top map results [{'map': 0.71035700000000002, 'max_depth': 8, 'min_child_weight': 3}, {'map': 0.71010000000000006, 'max_depth': 5, 'min_child_weight': 1}, {'map': 0.70958599999999994, 'max_depth': 4, 'min_child_weight': 1}]
top map results [{'map': 0.71035700000000002, 'gamma': 0.2}, {'map': 0.71035700000000002, 'gamma': 0.5}, {'map': 0.70958599999999994, 'gamma': 0.1}]
top map results [{'subsample': 0.75, 'colsample_bytree': 0.85, 'map': 0.71087100000000003}, {'subsample': 0.75, 'colsample_bytree': 0.9, 'map': 0.71087100000000003}, {'subsample': 0.85, 'colsample_bytree': 0.75, 'map': 0.71061400000000008}]
top map results [{'alpha': 0, 'map': 0.71087100000000003}, {'alpha': 1e-05, 'map': 0.71087100000000003}, {'alpha': 0.001, 'map': 0.70984299999999989}]
computed params for big grid 0, 8
{'colsample_bytree': 0.85, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 3, 'subsample': 0.75, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 8, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
9 Nt
0.001 4.501
0 mt
90 nt
(2216, 6) data_shape
(2023, 12) X shape
(2023, 1) y shape
44 no of classes
top map results [{'map': 0.78140500000000002, 'max_depth': 7, 'min_child_weight': 2}, {'map': 0.78140466666666664, 'max_depth': 5, 'min_child_weight': 2}, {'map': 0.78140466666666664, 'max_depth': 6, 'min_child_weight': 3}]
top map results [{'map': 0.78140500000000002, 'gamma': 0.4}, {'map': 0.78091033333333326, 'gamma': 0.3}, {'map': 0.77942666666666671, 'gamma': 0.0}]
top map results [{'subsample': 0.75, 'colsample_bytree': 0.6, 'map': 0.78486666666666649}, {'subsample': 0.75, 'colsample_bytree': 0.65, 'map': 0.78486666666666649}, {'subsample': 0.75, 'colsample_bytree': 0.55, 'map': 0.78338266666666667}]
top map results [{'alpha': 0, 'map': 0.78486666666666649}, {'alpha': 1e-05, 'map': 0.78486666666666649}, {'alpha': 0.005, 'map': 0.78437199999999996}]
computed params for big grid 0, 9
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.75, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 7, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
10 Nt
0.001 5.001
0 mt
100 nt
(2522, 6) data_shape
(2326, 12) X shape
(2326, 1) y shape
53 no of classes
top map results [{'map': 0.77161299999999999, 'max_depth': 5, 'min_child_weight': 1}, {'map': 0.77161299999999999, 'max_depth': 6, 'min_child_weight': 2}, {'map': 0.77075300000000002, 'max_depth': 7, 'min_child_weight': 1}]
top map results [{'map': 0.77290333333333339, 'gamma': 0.2}, {'map': 0.77290333333333328, 'gamma': 0.0}, {'map': 0.77247333333333346, 'gamma': 0.3}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.55, 'map': 0.77333333333333343}, {'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.77290333333333339}, {'subsample': 0.8, 'colsample_bytree': 0.7, 'map': 0.77247333333333346}]
top map results [{'alpha': 0, 'map': 0.77333333333333343}, {'alpha': 1e-05, 'map': 0.77333333333333343}, {'alpha': 0.001, 'map': 0.77290333333333339}]
computed params for big grid 0, 10
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 1, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 5, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
11 Nt
0.001 5.501
0 mt
110 nt
(3806, 6) data_shape
(3596, 12) X shape
(3596, 1) y shape
40 no of classes
top map results [{'map': 0.80189199999999994, 'max_depth': 6, 'min_child_weight': 3}, {'map': 0.80189166666666667, 'max_depth': 8, 'min_child_weight': 3}, {'map': 0.80133566666666667, 'max_depth': 7, 'min_child_weight': 3}]
top map results [{'map': 0.80133566666666667, 'gamma': 0.2}, {'map': 0.8010573333333334, 'gamma': 0.0}, {'map': 0.80077900000000002, 'gamma': 0.1}]
top map results [{'subsample': 0.95, 'colsample_bytree': 0.6, 'map': 0.80244833333333343}, {'subsample': 0.95, 'colsample_bytree': 0.65, 'map': 0.80244833333333343}, {'subsample': 0.75, 'colsample_bytree': 0.6, 'map': 0.80217033333333332}]
top map results [{'alpha': 0, 'map': 0.80244833333333343}, {'alpha': 1e-05, 'map': 0.80244833333333343}, {'alpha': 0.01, 'map': 0.80189166666666667}]
computed params for big grid 0, 11
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 3, 'subsample': 0.95, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 6, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
12 Nt
0.001 6.001
0 mt
120 nt
(2212, 6) data_shape
(2043, 12) X shape
(2043, 1) y shape
51 no of classes
top map results [{'map': 0.69897233333333331, 'max_depth': 7, 'min_child_weight': 3}, {'map': 0.6984826666666667, 'max_depth': 5, 'min_child_weight': 5}, {'map': 0.6984826666666667, 'max_depth': 6, 'min_child_weight': 5}]
top map results [{'map': 0.69799299999999997, 'gamma': 0.0}, {'map': 0.69750366666666663, 'gamma': 0.1}, {'map': 0.69750366666666663, 'gamma': 0.3}]
top map results [{'subsample': 0.75, 'colsample_bytree': 0.75, 'map': 0.70239866666666673}, {'subsample': 0.75, 'colsample_bytree': 0.8, 'map': 0.70239866666666673}, {'subsample': 0.75, 'colsample_bytree': 0.7, 'map': 0.70239833333333335}]
top map results [{'alpha': 0.005, 'map': 0.70337733333333341}, {'alpha': 0.05, 'map': 0.70337733333333341}, {'alpha': 0.01, 'map': 0.70288766666666669}]
computed params for big grid 0, 12
{'colsample_bytree': 0.75, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 3, 'subsample': 0.75, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.005, 'max_depth': 7, 'gamma': 0.0}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
13 Nt
0.001 6.501
0 mt
130 nt
(4208, 6) data_shape
(4034, 12) X shape
(4034, 1) y shape
56 no of classes
top map results [{'map': 0.80530733333333337, 'max_depth': 3, 'min_child_weight': 3}, {'map': 0.80481133333333332, 'max_depth': 7, 'min_child_weight': 3}, {'map': 0.80431533333333327, 'max_depth': 3, 'min_child_weight': 2}]
top map results [{'map': 0.8055553333333334, 'gamma': 0.2}, {'map': 0.8055553333333334, 'gamma': 0.3}, {'map': 0.80481133333333332, 'gamma': 0.0}]
top map results [{'subsample': 0.8, 'colsample_bytree': 0.7, 'map': 0.8067953333333332}, {'subsample': 0.7, 'colsample_bytree': 0.55, 'map': 0.80629966666666675}, {'subsample': 0.8, 'colsample_bytree': 0.6, 'map': 0.80629933333333337}]
top map results [{'alpha': 0.05, 'map': 0.80729133333333325}, {'alpha': 0.005, 'map': 0.80704333333333322}, {'alpha': 0, 'map': 0.8067953333333332}]
computed params for big grid 0, 13
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 3, 'subsample': 0.8, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.05, 'max_depth': 3, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
14 Nt
0.001 7.001
0 mt
140 nt
(2685, 6) data_shape
(2489, 12) X shape
(2489, 1) y shape
52 no of classes
top map results [{'map': 0.66385233333333338, 'max_depth': 4, 'min_child_weight': 6}, {'map': 0.66304799999999997, 'max_depth': 5, 'min_child_weight': 6}, {'map': 0.66304766666666659, 'max_depth': 7, 'min_child_weight': 3}]
top map results [{'map': 0.66304799999999997, 'gamma': 0.4}, {'map': 0.66184166666666666, 'gamma': 0.0}, {'map': 0.66184166666666666, 'gamma': 0.3}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.66304799999999997}, {'subsample': 0.9, 'colsample_bytree': 0.75, 'map': 0.66264566666666658}, {'subsample': 0.9, 'colsample_bytree': 0.8, 'map': 0.66264566666666658}]
top map results [{'alpha': 0.005, 'map': 0.663852}, {'alpha': 0, 'map': 0.66304799999999997}, {'alpha': 1e-05, 'map': 0.66304799999999997}]
computed params for big grid 0, 14
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 6, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.005, 'max_depth': 4, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
15 Nt
0.001 7.501
0 mt
150 nt
(1411, 6) data_shape
(1247, 12) X shape
(1247, 1) y shape
46 no of classes
top map results [{'map': 0.67389566666666667, 'max_depth': 3, 'min_child_weight': 2}, {'map': 0.67389533333333329, 'max_depth': 6, 'min_child_weight': 3}, {'map': 0.67309200000000002, 'max_depth': 8, 'min_child_weight': 3}]
top map results [{'map': 0.67469899999999994, 'gamma': 0.4}, {'map': 0.67309266666666667, 'gamma': 0.3}, {'map': 0.67228900000000003, 'gamma': 0.1}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.67469899999999994}, {'subsample': 0.9, 'colsample_bytree': 0.95, 'map': 0.67469866666666667}, {'subsample': 0.95, 'colsample_bytree': 0.95, 'map': 0.67389600000000005}]
top map results [{'alpha': 0, 'map': 0.67469899999999994}, {'alpha': 1e-05, 'map': 0.67469899999999994}, {'alpha': 0.001, 'map': 0.6730923333333334}]
computed params for big grid 0, 15
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 3, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
16 Nt
0.001 8.001
0 mt
160 nt
(2008, 6) data_shape
(1838, 12) X shape
(1838, 1) y shape
40 no of classes
top map results [{'map': 0.75435733333333321, 'max_depth': 3, 'min_child_weight': 2}, {'map': 0.75326799999999994, 'max_depth': 2, 'min_child_weight': 2}, {'map': 0.75326799999999994, 'max_depth': 7, 'min_child_weight': 1}]
top map results [{'map': 0.75381266666666669, 'gamma': 0.5}, {'map': 0.75272333333333341, 'gamma': 0.1}, {'map': 0.7527233333333333, 'gamma': 0.0}]
top map results [{'subsample': 0.95, 'colsample_bytree': 0.55, 'map': 0.75653599999999999}, {'subsample': 0.95, 'colsample_bytree': 0.75, 'map': 0.75544666666666671}, {'subsample': 0.95, 'colsample_bytree': 0.8, 'map': 0.75544666666666671}]
top map results [{'alpha': 0, 'map': 0.75653599999999999}, {'alpha': 1e-05, 'map': 0.75653599999999999}, {'alpha': 0.01, 'map': 0.75653599999999999}]
computed params for big grid 0, 16
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.95, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 3, 'gamma': 0.5}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
17 Nt
0.001 8.501
0 mt
170 nt
(2569, 6) data_shape
(2432, 12) X shape
(2432, 1) y shape
43 no of classes
top map results [{'map': 0.79135800000000012, 'max_depth': 7, 'min_child_weight': 2}, {'map': 0.79094666666666669, 'max_depth': 7, 'min_child_weight': 3}, {'map': 0.79053533333333326, 'max_depth': 6, 'min_child_weight': 2}]
top map results [{'map': 0.7917696666666667, 'gamma': 0.4}, {'map': 0.79176933333333332, 'gamma': 0.5}, {'map': 0.79135800000000012, 'gamma': 0.3}]
top map results [{'subsample': 0.65, 'colsample_bytree': 0.6, 'map': 0.79464999999999997}, {'subsample': 0.65, 'colsample_bytree': 0.65, 'map': 0.79464999999999997}, {'subsample': 0.6, 'colsample_bytree': 0.7, 'map': 0.79341566666666663}]
top map results [{'alpha': 0, 'map': 0.79464999999999997}, {'alpha': 1e-05, 'map': 0.79464999999999997}, {'alpha': 0.05, 'map': 0.79423866666666676}]
computed params for big grid 0, 17
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.65, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 7, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
18 Nt
0.001 9.001
0 mt
180 nt
(2311, 6) data_shape
(2135, 12) X shape
(2135, 1) y shape
38 no of classes
top map results [{'map': 0.78762333333333334, 'max_depth': 6, 'min_child_weight': 2}, {'map': 0.78668566666666662, 'max_depth': 3, 'min_child_weight': 2}, {'map': 0.78668533333333335, 'max_depth': 8, 'min_child_weight': 1}]
top map results [{'map': 0.78809200000000013, 'gamma': 0.2}, {'map': 0.78809200000000013, 'gamma': 0.3}, {'map': 0.78668566666666673, 'gamma': 0.4}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.78809200000000013}, {'subsample': 0.8, 'colsample_bytree': 0.55, 'map': 0.7871543333333334}, {'subsample': 0.8, 'colsample_bytree': 0.6, 'map': 0.78668533333333335}]
top map results [{'alpha': 0, 'map': 0.78809200000000013}, {'alpha': 1e-05, 'map': 0.78809200000000013}, {'alpha': 0.005, 'map': 0.78762299999999996}]
computed params for big grid 0, 18
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 6, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0 Mt
19 Nt
0.001 9.501
0 mt
190 nt
(4227, 6) data_shape
(4052, 12) X shape
(4052, 1) y shape
64 no of classes
top map results [{'map': 0.70716066666666677, 'max_depth': 8, 'min_child_weight': 2}, {'map': 0.70642000000000005, 'max_depth': 7, 'min_child_weight': 3}, {'map': 0.70617266666666667, 'max_depth': 8, 'min_child_weight': 3}]
top map results [{'map': 0.70814833333333338, 'gamma': 0.1}, {'map': 0.70814833333333338, 'gamma': 0.3}, {'map': 0.70790133333333338, 'gamma': 0.0}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.70814833333333338}, {'subsample': 0.6, 'colsample_bytree': 0.7, 'map': 0.708148}, {'subsample': 0.7, 'colsample_bytree': 0.6, 'map': 0.70641966666666667}]
top map results [{'alpha': 0.05, 'map': 0.71111100000000016}, {'alpha': 0.005, 'map': 0.70864233333333326}, {'alpha': 0.1, 'map': 0.708395}]
computed params for big grid 0, 19
{'colsample_bytree': 0.7, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.05, 'max_depth': 8, 'gamma': 0.1}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
0 Nt
1.001 0.001
5 mt
0 nt
(2748, 6) data_shape
(2579, 12) X shape
(2579, 1) y shape
45 no of classes
top map results [{'map': 0.74349999999999994, 'max_depth': 8, 'min_child_weight': 5}, {'map': 0.74311233333333337, 'max_depth': 7, 'min_child_weight': 5}, {'map': 0.74272400000000005, 'max_depth': 5, 'min_child_weight': 4}]
top map results [{'map': 0.74427633333333321, 'gamma': 0.4}, {'map': 0.74388833333333337, 'gamma': 0.1}, {'map': 0.74350033333333332, 'gamma': 0.3}]
top map results [{'subsample': 0.85, 'colsample_bytree': 0.6, 'map': 0.74621666666666664}, {'subsample': 0.85, 'colsample_bytree': 0.65, 'map': 0.74621666666666664}, {'subsample': 0.9, 'colsample_bytree': 0.55, 'map': 0.7458286666666667}]
top map results [{'alpha': 0, 'map': 0.74621666666666664}, {'alpha': 1e-05, 'map': 0.74621666666666664}, {'alpha': 0.001, 'map': 0.74544066666666664}]
computed params for big grid 1, 0
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 5, 'subsample': 0.85, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 8, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
1 Nt
1.001 0.501
5 mt
10 nt
(2600, 6) data_shape
(2378, 12) X shape
(2378, 1) y shape
55 no of classes
top map results [{'map': 0.76851866666666668, 'max_depth': 6, 'min_child_weight': 1}, {'map': 0.76767699999999994, 'max_depth': 7, 'min_child_weight': 1}, {'map': 0.76725600000000005, 'max_depth': 5, 'min_child_weight': 1}]
top map results [{'map': 0.76893933333333342, 'gamma': 0.4}, {'map': 0.7685183333333333, 'gamma': 0.2}, {'map': 0.76809766666666679, 'gamma': 0.3}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.75, 'map': 0.77020199999999994}, {'subsample': 0.9, 'colsample_bytree': 0.8, 'map': 0.77020199999999994}, {'subsample': 0.8, 'colsample_bytree': 0.55, 'map': 0.76893966666666669}]
top map results [{'alpha': 0.001, 'map': 0.77020233333333332}, {'alpha': 0, 'map': 0.77020199999999994}, {'alpha': 1e-05, 'map': 0.77020199999999994}]
computed params for big grid 1, 1
{'colsample_bytree': 0.75, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 1, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.001, 'max_depth': 6, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
2 Nt
1.001 1.001
5 mt
20 nt
(8110, 6) data_shape
(7893, 12) X shape
(7893, 1) y shape
96 no of classes
top map results [{'map': 0.67718200000000006, 'max_depth': 5, 'min_child_weight': 5}, {'map': 0.67705566666666661, 'max_depth': 6, 'min_child_weight': 5}, {'map': 0.67629533333333336, 'max_depth': 6, 'min_child_weight': 4}]
top map results [{'map': 0.6766753333333333, 'gamma': 0.5}, {'map': 0.67654866666666669, 'gamma': 0.0}, {'map': 0.6760423333333333, 'gamma': 0.2}]
top map results [{'subsample': 0.85, 'colsample_bytree': 0.55, 'map': 0.6780693333333333}, {'subsample': 0.95, 'colsample_bytree': 0.55, 'map': 0.67781566666666659}, {'subsample': 0.75, 'colsample_bytree': 0.55, 'map': 0.67680233333333328}]
top map results [{'alpha': 0, 'map': 0.6780693333333333}, {'alpha': 1e-05, 'map': 0.6780693333333333}, {'alpha': 0.005, 'map': 0.67794266666666658}]
computed params for big grid 1, 2
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 5, 'subsample': 0.85, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 5, 'gamma': 0.5}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
3 Nt
1.001 1.501
5 mt
30 nt
(3448, 6) data_shape
(3238, 12) X shape
(3238, 1) y shape
80 no of classes
top map results [{'map': 0.64380599999999999, 'max_depth': 3, 'min_child_weight': 2}, {'map': 0.64380599999999999, 'max_depth': 4, 'min_child_weight': 5}, {'map': 0.64380599999999999, 'max_depth': 5, 'min_child_weight': 5}]
top map results [{'map': 0.64442366666666662, 'gamma': 0.4}, {'map': 0.64411466666666672, 'gamma': 0.2}, {'map': 0.64380633333333337, 'gamma': 0.0}]
top map results [{'subsample': 0.85, 'colsample_bytree': 0.55, 'map': 0.64658633333333337}, {'subsample': 0.85, 'colsample_bytree': 0.6, 'map': 0.64596866666666664}, {'subsample': 0.85, 'colsample_bytree': 0.65, 'map': 0.64596866666666664}]
top map results [{'alpha': 0, 'map': 0.64658633333333337}, {'alpha': 1e-05, 'map': 0.64658633333333337}, {'alpha': 0.001, 'map': 0.64535066666666663}]
computed params for big grid 1, 3
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.85, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 3, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
4 Nt
1.001 2.001
5 mt
40 nt
(4865, 6) data_shape
(4606, 12) X shape
(4606, 1) y shape
83 no of classes
top map results [{'map': 0.73246466666666665, 'max_depth': 7, 'min_child_weight': 4}, {'map': 0.73203066666666661, 'max_depth': 6, 'min_child_weight': 4}, {'map': 0.73203066666666661, 'max_depth': 7, 'min_child_weight': 5}]
top map results [{'map': 0.73268166666666668, 'gamma': 0.2}, {'map': 0.73224766666666652, 'gamma': 0.5}, {'map': 0.7315963333333334, 'gamma': 0.3}]
top - 13:02:39 up  5:40,  3 users,  load average: 27.48, 39.50, 41.13
Tasks: 554 total,   9 running, 545 sleeping,   0 stopped,   0 zombie
%Cpu0  : 84.4 us,  0.7 sy,  0.0 ni, 14.9 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu1  : 82.4 us,  1.4 sy,  0.0 ni, 16.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu2  : 88.2 us,  2.1 sy,  0.0 ni,  9.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu3  : 87.2 us,  2.4 sy,  0.0 ni, 10.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu4  : 82.7 us,  1.0 sy,  0.0 ni, 16.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu5  : 84.2 us,  1.4 sy,  0.0 ni, 14.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu6  : 83.8 us,  1.7 sy,  0.0 ni, 14.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu7  : 82.9 us,  1.0 sy,  0.0 ni, 15.8 id,  0.3 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu8  : 87.5 us,  0.7 sy,  0.0 ni, 11.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu9  : 87.8 us,  2.0 sy,  0.0 ni, 10.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu10 : 84.8 us,  2.1 sy,  0.0 ni, 13.1 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu11 : 88.2 us,  1.0 sy,  0.0 ni, 10.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu12 : 88.2 us,  2.4 sy,  0.0 ni,  9.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu13 : 83.5 us,  1.0 sy,  0.0 ni, 15.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu14 : 82.4 us,  1.4 sy,  0.0 ni, 16.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu15 : 80.3 us,  1.4 sy,  0.0 ni, 18.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu16 : 83.3 us,  0.7 sy,  0.0 ni, 16.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu17 : 81.5 us,  2.7 sy,  0.0 ni, 15.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu18 : 82.5 us,  0.3 sy,  0.0 ni, 17.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu19 : 81.8 us,  2.1 sy,  0.0 ni, 16.1 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu20 : 79.5 us,  1.0 sy,  0.0 ni, 19.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu21 : 80.0 us,  2.7 sy,  0.0 ni, 17.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu22 : 82.3 us,  2.0 sy,  0.0 ni, 15.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu23 : 80.8 us,  1.7 sy,  0.0 ni, 17.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu24 : 79.5 us,  1.0 sy,  0.0 ni, 19.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu25 : 85.9 us,  1.4 sy,  0.0 ni, 12.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu26 : 81.8 us,  1.0 sy,  0.0 ni, 17.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu27 : 80.5 us,  2.1 sy,  0.0 ni, 17.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu28 : 81.7 us,  1.7 sy,  0.0 ni, 16.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu29 : 81.8 us,  1.4 sy,  0.0 ni, 16.9 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu30 : 79.1 us,  1.7 sy,  0.0 ni, 19.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu31 : 80.8 us,  0.3 sy,  0.0 ni, 18.9 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu32 : 79.3 us,  1.4 sy,  0.0 ni, 19.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu33 : 80.5 us,  1.0 sy,  0.0 ni, 18.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu34 : 80.2 us,  1.0 sy,  0.0 ni, 18.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu35 : 79.9 us,  1.7 sy,  0.0 ni, 18.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:  61837056 total,  1286108 used, 60550948 free,    18836 buffers
KiB Swap:        0 total,        0 used,        0 free.   177420 cached Mem

   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
  8594 ubuntu    20   0 2379136 297776   3836 R 464.1  0.5   0:13.97 python
  8595 ubuntu    20   0 2379144 297784   3836 R 450.1  0.5   0:13.55 python
  8596 ubuntu    20   0 2379140 297780   3836 R 445.5  0.5   0:13.41 python
  8593 ubuntu    20   0 2378848 297496   3836 R 424.6  0.5   0:12.78 python
  8597 ubuntu    20   0 2378848 297492   3840 R 413.9  0.5   0:12.46 python
  8592 ubuntu    20   0 2378848 297428   3848 R 401.3  0.5   0:12.08 python
  8591 ubuntu    20   0 2378964 297624   3836 R 401.0  0.5   0:12.07 python
  2240 ubuntu    20   0 2069044 290944  20384 S   1.0  0.5   0:22.60 python
   466 root      20   0       0      0      0 S   0.3  0.0   0:09.49 kworker/5:1
   470 root      20   0       0      0      0 S   0.3  0.0   0:09.60 kworker/9:1
   476 root      20   0       0      0      0 S   0.3  0.0   0:09.72 kworker/15:1
   483 root      20   0       0      0      0 S   0.3  0.0   0:09.23 kworker/22:1
   486 root      20   0       0      0      0 S   0.3  0.0   0:09.45 kworker/25:1
   489 root      20   0       0      0      0 S   0.3  0.0   0:09.25 kworker/29:1
   491 root      20   0       0      0      0 S   0.3  0.0   0:09.19 kworker/31:1
   493 root      20   0       0      0      0 S   0.3  0.0   0:09.29 kworker/33:1
param_range2 = {
    'gamma': [i/10.0 for i in range(0, 6)]
}

param_range3 = {
    'subsample': [i/100.0 for i in range(55, 100, 5)],
    'colsample_bytree': [i/100.0 for i in range(55, 100, 5)]
}

param_range4 = {
 'alpha':[0, 1e-5, 0.001, 0.005, 0.01, 0.05, 0.1]
}




if __name__ == '__main__':

    params_dict = [[{} for nt in range(g.max_n + 1)] for mt in range(g.max_m + 1)]

    for Mt in range(M):
        for Nt in range(N):
            orig_params = {
                'silent': 1,
                'nthread': 8,
                'eta': 0.1,
                'objective': 'multi:softprob',
                'max_depth': 8,
                'min_child_weight': 5,
                'gamma': 0.32,
                'subsample': 0.9,
                'colsample_bytree': 0.7,
                'scale_pos_weight': 1
                }
            print "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
            print Mt, "Mt"
            print Nt, "Nt"
            x = (Mt * xD)*eps + eps
            y = (Nt * yD)*eps + eps
            print x, y
            (mt, nt) = grid.get_grids((x, y), X, Y, xd, yd)[0]
            print mt, "mt"
            print nt, "nt"

            dtrain, enc = get_dtrain_enc(mt, nt)

            for param_range in [param_range1, param_range2, param_range3, param_range4]:
                result = None
                try:
                    result = grid_search_xgb(param_range)
                except Exception, e:
                    print e
                    print traceback.format_exc()

                if result != None:
                    temp_param = result[0]
                    del(temp_param['map'])
"grid_search_for_all_grids.py" 256L, 7423C written                                                                                                                                                                          209,27        92%
top map results [{'map': 0.76851866666666668, 'max_depth': 6, 'min_child_weight': 1}, {'map': 0.76767699999999994, 'max_depth': 7, 'min_child_weight': 1}, {'map': 0.76725600000000005, 'max_depth': 5, 'min_child_weight': 1}]
top map results [{'map': 0.76893933333333342, 'gamma': 0.4}, {'map': 0.7685183333333333, 'gamma': 0.2}, {'map': 0.76809766666666679, 'gamma': 0.3}]
top map results [{'subsample': 0.9, 'colsample_bytree': 0.75, 'map': 0.77020199999999994}, {'subsample': 0.9, 'colsample_bytree': 0.8, 'map': 0.77020199999999994}, {'subsample': 0.8, 'colsample_bytree': 0.55, 'map': 0.76893966666666669}]
top map results [{'alpha': 0.001, 'map': 0.77020233333333332}, {'alpha': 0, 'map': 0.77020199999999994}, {'alpha': 1e-05, 'map': 0.77020199999999994}]
computed params for big grid 1, 1
{'colsample_bytree': 0.75, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 1, 'subsample': 0.9, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.001, 'max_depth': 6, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
2 Nt
1.001 1.001
5 mt
20 nt
(8110, 6) data_shape
(7893, 12) X shape
(7893, 1) y shape
96 no of classes
top map results [{'map': 0.67718200000000006, 'max_depth': 5, 'min_child_weight': 5}, {'map': 0.67705566666666661, 'max_depth': 6, 'min_child_weight': 5}, {'map': 0.67629533333333336, 'max_depth': 6, 'min_child_weight': 4}]
top map results [{'map': 0.6766753333333333, 'gamma': 0.5}, {'map': 0.67654866666666669, 'gamma': 0.0}, {'map': 0.6760423333333333, 'gamma': 0.2}]
top map results [{'subsample': 0.85, 'colsample_bytree': 0.55, 'map': 0.6780693333333333}, {'subsample': 0.95, 'colsample_bytree': 0.55, 'map': 0.67781566666666659}, {'subsample': 0.75, 'colsample_bytree': 0.55, 'map': 0.67680233333333328}]
top map results [{'alpha': 0, 'map': 0.6780693333333333}, {'alpha': 1e-05, 'map': 0.6780693333333333}, {'alpha': 0.005, 'map': 0.67794266666666658}]
computed params for big grid 1, 2
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 5, 'subsample': 0.85, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 5, 'gamma': 0.5}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
3 Nt
1.001 1.501
5 mt
30 nt
(3448, 6) data_shape
(3238, 12) X shape
(3238, 1) y shape
80 no of classes
top map results [{'map': 0.64380599999999999, 'max_depth': 3, 'min_child_weight': 2}, {'map': 0.64380599999999999, 'max_depth': 4, 'min_child_weight': 5}, {'map': 0.64380599999999999, 'max_depth': 5, 'min_child_weight': 5}]
top map results [{'map': 0.64442366666666662, 'gamma': 0.4}, {'map': 0.64411466666666672, 'gamma': 0.2}, {'map': 0.64380633333333337, 'gamma': 0.0}]
top map results [{'subsample': 0.85, 'colsample_bytree': 0.55, 'map': 0.64658633333333337}, {'subsample': 0.85, 'colsample_bytree': 0.6, 'map': 0.64596866666666664}, {'subsample': 0.85, 'colsample_bytree': 0.65, 'map': 0.64596866666666664}]
top map results [{'alpha': 0, 'map': 0.64658633333333337}, {'alpha': 1e-05, 'map': 0.64658633333333337}, {'alpha': 0.001, 'map': 0.64535066666666663}]
computed params for big grid 1, 3
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 2, 'subsample': 0.85, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 3, 'gamma': 0.4}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
4 Nt
1.001 2.001
5 mt
40 nt
(4865, 6) data_shape
(4606, 12) X shape
(4606, 1) y shape
83 no of classes
top map results [{'map': 0.73246466666666665, 'max_depth': 7, 'min_child_weight': 4}, {'map': 0.73203066666666661, 'max_depth': 6, 'min_child_weight': 4}, {'map': 0.73203066666666661, 'max_depth': 7, 'min_child_weight': 5}]
top map results [{'map': 0.73268166666666668, 'gamma': 0.2}, {'map': 0.73224766666666652, 'gamma': 0.5}, {'map': 0.7315963333333334, 'gamma': 0.3}]
top map results [{'subsample': 0.95, 'colsample_bytree': 0.75, 'map': 0.73355033333333342}, {'subsample': 0.95, 'colsample_bytree': 0.8, 'map': 0.73355033333333342}, {'subsample': 0.65, 'colsample_bytree': 0.7, 'map': 0.73311633333333326}]
top map results [{'alpha': 0.001, 'map': 0.73376766666666671}, {'alpha': 0, 'map': 0.73355033333333342}, {'alpha': 1e-05, 'map': 0.73355033333333342}]
computed params for big grid 1, 4
{'colsample_bytree': 0.75, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 4, 'subsample': 0.95, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.001, 'max_depth': 7, 'gamma': 0.2}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
5 Nt
1.001 2.501
5 mt
50 nt
(3672, 6) data_shape
(3426, 12) X shape
(3426, 1) y shape
67 no of classes
top map results [{'map': 0.7326326666666666, 'max_depth': 6, 'min_child_weight': 6}, {'map': 0.7326326666666666, 'max_depth': 7, 'min_child_weight': 5}, {'map': 0.73204900000000006, 'max_depth': 5, 'min_child_weight': 4}]
top map results [{'map': 0.73175699999999999, 'gamma': 0.3}, {'map': 0.73175699999999999, 'gamma': 0.5}, {'map': 0.73146533333333341, 'gamma': 0.0}]
top map results [{'subsample': 0.95, 'colsample_bytree': 0.6, 'map': 0.73292466666666678}, {'subsample': 0.95, 'colsample_bytree': 0.65, 'map': 0.73292466666666678}, {'subsample': 0.9, 'colsample_bytree': 0.7, 'map': 0.73175699999999999}]
top map results [{'alpha': 0.01, 'map': 0.73321633333333336}, {'alpha': 0, 'map': 0.73292466666666678}, {'alpha': 1e-05, 'map': 0.73292466666666678}]
computed params for big grid 1, 5
{'colsample_bytree': 0.6, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 6, 'subsample': 0.95, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0.01, 'max_depth': 6, 'gamma': 0.3}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
6 Nt
1.001 3.001
5 mt
60 nt
(3839, 6) data_shape
(3612, 12) X shape
(3612, 1) y shape
73 no of classes
top map results [{'map': 0.70348833333333338, 'max_depth': 6, 'min_child_weight': 5}, {'map': 0.7032113333333333, 'max_depth': 3, 'min_child_weight': 5}, {'map': 0.70265766666666674, 'max_depth': 3, 'min_child_weight': 1}]
top map results [{'map': 0.70293466666666671, 'gamma': 0.5}, {'map': 0.702658, 'gamma': 0.0}, {'map': 0.702658, 'gamma': 0.4}]
top map results [{'subsample': 0.95, 'colsample_bytree': 0.55, 'map': 0.70431899999999992}, {'subsample': 0.95, 'colsample_bytree': 0.7, 'map': 0.703488}, {'subsample': 0.8, 'colsample_bytree': 0.6, 'map': 0.70293466666666671}]
top map results [{'alpha': 0, 'map': 0.70431899999999992}, {'alpha': 1e-05, 'map': 0.70431899999999992}, {'alpha': 0.001, 'map': 0.70348833333333338}]
computed params for big grid 1, 6
{'colsample_bytree': 0.55, 'silent': 1, 'scale_pos_weight': 1, 'nthread': 8, 'min_child_weight': 5, 'subsample': 0.95, 'eta': 0.1, 'objective': 'multi:softprob', 'alpha': 0, 'max_depth': 6, 'gamma': 0.5}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 Mt
7 Nt
1.001 3.501
5 mt
70 nt
(4040, 6) data_shape
(3788, 12) X shape
(3788, 1) y shape
86 no of classes
top map results [{'map': 0.65504499999999999, 'max_depth': 3, 'min_child_weight': 2}, {'map': 0.65504499999999999, 'max_depth': 5, 'min_child_weight': 3}, {'map': 0.65478099999999995, 'max_depth': 4, 'min_child_weight': 1}]
top map results [{'map': 0.65610166666666669, 'gamma': 0.4}, {'map': 0.65530900000000003, 'gamma': 0.5}, {'map': 0.6542526666666667, 'gamma': 0.3}]

